<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viber –ú–µ–Ω–µ–¥–∂–µ—Ä –†–æ–∑—Å–∏–ª–æ–∫</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- LOGIN -->
    <div id="loginScreen" class="screen active">
        <div class="login-card">
            <div class="logo">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
                    <circle cx="24" cy="24" r="24" fill="url(#g1)" />
                    <path
                        d="M24 12c-8 0-12 4.5-12 10 0 4 2.5 7 6 8.5v4.5l4-2.5c.6.1 1.3.2 2 .2 8 0 12-4.5 12-10S32 12 24 12z"
                        fill="#fff" />
                    <defs>
                        <linearGradient id="g1" x1="0" y1="0" x2="48" y2="48">
                            <stop stop-color="#7B5EE0" />
                            <stop offset="1" stop-color="#5B3DBF" />
                        </linearGradient>
                    </defs>
                </svg>
            </div>
            <h1>Viber –ú–µ–Ω–µ–¥–∂–µ—Ä</h1>
            <p class="subtitle">–ú–∞—Å–æ–≤–∞ —Ä–æ–∑—Å–∏–ª–∫–∞ –ø–æ 170+ –∫–∞–Ω–∞–ª–∞—Ö</p>
            <div class="input-group">
                <input type="password" id="passwordInput" placeholder="–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å"
                    onkeydown="if(event.key==='Enter')login()">
            </div>
            <button class="btn btn-primary btn-full" onclick="login()">–£–≤—ñ–π—Ç–∏</button>
            <p id="loginError" class="error-text"></p>
        </div>
    </div>

    <!-- DASHBOARD -->
    <div id="dashboard" class="screen">
        <header>
            <div class="header-left">
                <h2>üì° –ü–∞–Ω–µ–ª—å –†–æ–∑—Å–∏–ª–æ–∫</h2>
            </div>
            <div class="header-right">
                <div class="stats-badge" id="statsAll">üì¶ <b>-</b></div>
                <div class="stats-badge" id="statsSupport">üîß <b>-</b></div>
                <button class="btn btn-small btn-outline" onclick="logout()">–í–∏–π—Ç–∏</button>
            </div>
        </header>
        <main>
            <div class="tabs">
                <button class="tab active" data-tab="broadcast" onclick="switchTab('broadcast')">üì® –†–æ–∑—Å–∏–ª–∫–∞</button>
                <button class="tab" data-tab="stores" onclick="switchTab('stores')">üì¶ –ú–∞–≥–∞–∑–∏–Ω–∏</button>
                <button class="tab" data-tab="menu" onclick="switchTab('menu')">üéÅ –ú–µ–Ω—é</button>
                <button class="tab" data-tab="settings" onclick="switchTab('settings')">‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</button>
            </div>

            <!-- ===== TAB: BROADCAST ===== -->
            <div id="tab-broadcast" class="tab-content active">
                <div class="card">
                    <h3>–°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Å—Ç</h3>
                    <div class="form-group">
                        <label>üìù –¢–µ–∫—Å—Ç</label>
                        <textarea id="broadcastText" rows="5" placeholder="–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>üì∑ –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)</label>
                        <div class="file-upload">
                            <input type="file" id="broadcastImage" accept="image/*" onchange="previewImage(this)">
                            <div id="uploadPlaceholder"><span class="file-icon">üì∑</span>
                                <p>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∞–±–æ –ø–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å</p>
                            </div>
                            <div id="imagePreview" style="display:none">
                                <img id="previewImg" src=""><button class="btn btn-small btn-danger"
                                    onclick="clearImage()">‚úï</button>
                            </div>
                        </div>
                    </div>
                    <div class="broadcast-actions">
                        <button class="btn btn-primary btn-large" onclick="startBroadcast('all')">üì¢ –ó–∞–≥–∞–ª—å–Ω–∞</button>
                        <button class="btn btn-secondary btn-large" onclick="startBroadcast('support')">üîß
                            –ü—ñ–¥—Ç—Ä–∏–º–∫–∞</button>
                    </div>
                </div>
                <div class="card" id="progressCard" style="display:none">
                    <h3 id="progressTitle">üöÄ –†–æ–∑—Å–∏–ª–∫–∞...</h3>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                    <div class="progress-stats"><span id="progressCount">0/0</span><span id="progressPercent">0%</span>
                    </div>
                    <div class="progress-details"><span class="stat-success">‚úÖ <b id="successCount">0</b></span><span
                            class="stat-error">‚ùå <b id="errorCount">0</b></span></div>
                </div>
            </div>

            <!-- ===== TAB: STORES ===== -->
            <div id="tab-stores" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h3>üì¶ –ú–∞–≥–∞–∑–∏–Ω–∏</h3>
                        <div class="card-header-actions">
                            <input type="text" id="storeSearch" placeholder="üîç –ü–æ—à—É–∫..." class="search-input"
                                oninput="filterStores()">
                            <button class="btn btn-small btn-primary" onclick="showAddStoreModal()">+ –î–æ–¥–∞—Ç–∏</button>
                            <button class="btn btn-small btn-outline" onclick="showImportModal()">üìä –Ü–º–ø–æ—Ä—Ç</button>
                        </div>
                    </div>
                    <div id="storesList" class="stores-list">
                        <p class="hint">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
                    </div>
                </div>
            </div>

            <!-- ===== TAB: MENU ===== -->
            <div id="tab-menu" class="tab-content">
                <div class="card">
                    <h3>üéÅ "–í—ñ—á–Ω–µ" –ú–µ–Ω—é –ú–∞–≥–∞–∑–∏–Ω—É</h3>
                    <p class="hint">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –∫—Ä–∞—Å–∏–≤–∏–π –±–∞–Ω–µ—Ä –∑ –∫–Ω–æ–ø–∫–∞–º–∏ –≤ —à–∞–ø–∫—É –∫–æ–∂–Ω–æ–≥–æ –∫–∞–Ω–∞–ª—É. –ö–ª—ñ—î–Ω—Ç–∏ –ø–æ–±–∞—á–∞—Ç—å
                        –∫–Ω–æ–ø–∫–∏: "–°–∫–∞—Ä–≥–∏/–ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó", "–í–∞–∫–∞–Ω—Å—ñ—ó", "–ó–∞–º–æ–≤–∏—Ç–∏ –ø—ñ—Ü—É".</p>
                    <div class="menu-preview">
                        <div class="menu-banner">üìã –ú–µ–Ω—é –º–∞–≥–∞–∑–∏–Ω—É</div>
                        <div class="menu-btn blue">üìù –°–∫–∞—Ä–≥–∏ / –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó</div>
                        <div class="menu-row">
                            <div class="menu-btn green">üíº –í–∞–∫–∞–Ω—Å—ñ—ó</div>
                            <div class="menu-btn red">üçï –ó–∞–º–æ–≤–∏—Ç–∏</div>
                        </div>
                        <div class="menu-phone">üìû +380 50 123 45 67</div>
                    </div>
                    <p class="hint" style="margin-top:12px">–ù–∞–ª–∞—à—Ç—É–π—Ç–µ —Ç–µ–∫—Å—Ç–∏ —Ç–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∫–Ω–æ–ø–æ–∫ —É –≤–∫–ª–∞–¥—Ü—ñ ‚öôÔ∏è
                        –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</p>
                    <div class="broadcast-actions" style="margin-top:16px">
                        <button class="btn btn-primary btn-large" onclick="sendMenu('all')">üì¢ –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –≤ —É—Å—ñ</button>
                        <button class="btn btn-secondary btn-large" onclick="sendMenu('support')">üîß –¢—ñ–ª—å–∫–∏
                            –ø—ñ–¥—Ç—Ä–∏–º–∫–∞</button>
                    </div>
                </div>
                <div class="card" id="menuProgressCard" style="display:none">
                    <h3 id="menuProgressTitle">üöÄ –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è –º–µ–Ω—é...</h3>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="menuProgressBar"></div>
                    </div>
                    <div class="progress-stats"><span id="menuProgressCount">0/0</span><span
                            id="menuProgressPercent">0%</span></div>
                    <div class="progress-details"><span class="stat-success">‚úÖ <b
                                id="menuSuccessCount">0</b></span><span class="stat-error">‚ùå <b
                                id="menuErrorCount">0</b></span></div>
                </div>
            </div>

            <!-- ===== TAB: SETTINGS ===== -->
            <div id="tab-settings" class="tab-content">
                <div class="card">
                    <h3>‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ–Ω—é —Ç–∞ –ø–æ—Å–∏–ª–∞–Ω—å</h3>
                    <div class="form-group"><label>üìã –¢–µ–∫—Å—Ç –±–∞–Ω–µ—Ä–∞</label><input type="text" id="set_menu_banner_text"
                            class="form-input"></div>
                    <div class="form-group"><label>üìù –ö–Ω–æ–ø–∫–∞ —Å–∫–∞—Ä–≥</label><input type="text"
                            id="set_complaint_button_text" class="form-input"></div>
                    <div class="form-group"><label>üîó –ü–æ—Å–∏–ª–∞–Ω–Ω—è —Ñ–æ—Ä–º–∏ —Å–∫–∞—Ä–≥ (Google Form)</label><input type="url"
                            id="set_google_form_url" class="form-input"></div>
                    <div class="form-group"><label>üíº –ö–Ω–æ–ø–∫–∞ –≤–∞–∫–∞–Ω—Å—ñ–π</label><input type="text"
                            id="set_vacancies_button_text" class="form-input"></div>
                    <div class="form-group"><label>üîó –ü–æ—Å–∏–ª–∞–Ω–Ω—è –≤–∞–∫–∞–Ω—Å—ñ–π</label><input type="url" id="set_vacancies_url"
                            class="form-input"></div>
                    <div class="form-group"><label>üçï –ö–Ω–æ–ø–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</label><input type="text"
                            id="set_pizza_button_text" class="form-input"></div>
                    <div class="form-group"><label>üîó –ü–æ—Å–∏–ª–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è / —Ç–µ–ª–µ—Ñ–æ–Ω</label><input type="text"
                            id="set_pizza_url" class="form-input"></div>
                    <div class="form-group"><label>üìû –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É (—Ñ—É—Ç–µ—Ä)</label><input type="text"
                            id="set_phone_number" class="form-input"></div>
                    <button class="btn btn-primary btn-full" onclick="saveSettings()" style="margin-top:16px">üíæ
                        –ó–±–µ—Ä–µ–≥—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</button>
                </div>
            </div>
        </main>
    </div>

    <!-- CONFIRM MODAL -->
    <div class="modal-overlay" id="confirmModal" style="display:none">
        <div class="modal-card">
            <h3>‚ö†Ô∏è –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è</h3>
            <p id="confirmText"></p>
            <div class="modal-preview" id="modalPreview"></div>
            <div class="modal-actions">
                <button class="btn btn-primary" onclick="confirmBroadcast()">‚úÖ –†–æ–∑—ñ—Å–ª–∞—Ç–∏!</button>
                <button class="btn btn-outline" onclick="cancelBroadcast()">‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            </div>
        </div>
    </div>

    <!-- STORE EDIT/ADD MODAL -->
    <div class="modal-overlay" id="storeModal" style="display:none">
        <div class="modal-card modal-wide">
            <h3 id="storeModalTitle">–î–æ–¥–∞—Ç–∏ –º–∞–≥–∞–∑–∏–Ω</h3>
            <input type="hidden" id="editStoreId">
            <div class="form-group"><label>üì¶ –ù–∞–∑–≤–∞ –º–∞–≥–∞–∑–∏–Ω—É</label><input type="text" id="editStoreName"
                    class="form-input" placeholder="–¢—Ä–∞—à –ö—É—Ä–∞–∂"></div>
            <div class="form-group"><label>üîë API –¢–æ–∫–µ–Ω (–ú–∞—Ä–∫–µ—Ä)</label><input type="text" id="editStoreToken"
                    class="form-input" placeholder="5623a0f0a1b13129-..."></div>
            <div class="form-group"><label>üìç –†–µ–≥—ñ–æ–Ω</label><input type="text" id="editStoreRegion" class="form-input"
                    placeholder="–ö–∏—ó–≤"></div>
            <div class="form-group"><label>üìå –ê–¥—Ä–µ—Å–∞</label><input type="text" id="editStoreAddress" class="form-input"
                    placeholder="–≤—É–ª. –ü—Ä–∏–∫–ª–∞–¥–Ω–∞ 1"></div>
            <div class="form-group"><label>üë§ –ö–æ–Ω—Ç–∞–∫—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞</label><input type="text" id="editStoreManager"
                    class="form-input" placeholder="+380..."></div>
            <div class="form-group checkbox-group">
                <label><input type="checkbox" id="editStoreSupport"> üîß –ù–∞ –ø—ñ–¥—Ç—Ä–∏–º—Ü—ñ</label>
            </div>
            <div class="modal-actions">
                <button class="btn btn-primary" onclick="saveStore()">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏</button>
                <button class="btn btn-outline" onclick="closeStoreModal()">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            </div>
        </div>
    </div>

    <!-- IMPORT MODAL -->
    <div class="modal-overlay" id="importModal" style="display:none">
        <div class="modal-card">
            <h3>üìä –Ü–º–ø–æ—Ä—Ç –∑ Excel</h3>
            <p class="hint">Excel: –∫–æ–ª–æ–Ω–∫–∞ A = –ù–∞–∑–≤–∞, –∫–æ–ª–æ–Ω–∫–∞ B = –¢–æ–∫–µ–Ω</p>
            <div class="form-group">
                <div class="file-upload">
                    <input type="file" id="importFile" accept=".xlsx,.xls">
                    <div><span class="file-icon">üìä</span>
                        <p>–û–±–µ—Ä—ñ—Ç—å —Ñ–∞–π–ª</p>
                    </div>
                </div>
            </div>
            <div class="form-group checkbox-group">
                <label><input type="checkbox" id="importAsSupport"> üîß –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —è–∫ "–ü—ñ–¥—Ç—Ä–∏–º–∫–∞"</label>
            </div>
            <div class="modal-actions">
                <button class="btn btn-primary" onclick="doImport()">üì• –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏</button>
                <button class="btn btn-outline" onclick="closeImportModal()">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>