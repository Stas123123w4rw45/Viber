<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viber –ú–µ–Ω–µ–¥–∂–µ—Ä –†–æ–∑—Å–∏–ª–æ–∫</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ============ LOGIN ============ -->
<div id="loginScreen" class="screen active">
    <div class="login-card">
        <div class="logo">
            <svg width="48" height="48" viewBox="0 0 48 48" fill="none"><circle cx="24" cy="24" r="24" fill="url(#g1)"/><path d="M24 12c-8 0-12 4.5-12 10 0 4 2.5 7 6 8.5v4.5l4-2.5c.6.1 1.3.2 2 .2 8 0 12-4.5 12-10S32 12 24 12z" fill="#fff"/><defs><linearGradient id="g1" x1="0" y1="0" x2="48" y2="48"><stop stop-color="#7B5EE0"/><stop offset="1" stop-color="#5B3DBF"/></linearGradient></defs></svg>
        </div>
        <h1>Viber –ú–µ–Ω–µ–¥–∂–µ—Ä</h1>
        <p class="subtitle">–ú–∞—Å–æ–≤–∞ —Ä–æ–∑—Å–∏–ª–∫–∞ –ø–æ 170+ –∫–∞–Ω–∞–ª–∞—Ö</p>
        <div class="input-group">
            <input type="password" id="passwordInput" placeholder="–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å" onkeydown="if(event.key==='Enter')login()">
        </div>
        <button class="btn btn-primary btn-full" onclick="login()">–£–≤—ñ–π—Ç–∏</button>
        <p id="loginError" class="error-text"></p>
    </div>
</div>

<!-- ============ DASHBOARD ============ -->
<div id="dashboard" class="screen">
    <header>
        <div class="header-left">
            <h2>üì° –ü–∞–Ω–µ–ª—å –†–æ–∑—Å–∏–ª–æ–∫</h2>
        </div>
        <div class="header-right">
            <div class="stats-badge" id="statsAll">üì¶ –ú–∞–≥–∞–∑–∏–Ω—ñ–≤: <b>-</b></div>
            <div class="stats-badge" id="statsSupport">üîß –ü—ñ–¥—Ç—Ä–∏–º–∫–∞: <b>-</b></div>
            <button class="btn btn-small btn-outline" onclick="logout()">–í–∏–π—Ç–∏</button>
        </div>
    </header>
    
    <main>
        <!-- TABS -->
        <div class="tabs">
            <button class="tab active" data-tab="broadcast" onclick="switchTab('broadcast')">üì® –†–æ–∑—Å–∏–ª–∫–∞</button>
            <button class="tab" data-tab="database" onclick="switchTab('database')">üìã –ë–∞–∑–∞ –ú–∞–≥–∞–∑–∏–Ω—ñ–≤</button>
        </div>
        
        <!-- TAB: BROADCAST -->
        <div id="tab-broadcast" class="tab-content active">
            <div class="card">
                <h3>–°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Å—Ç –¥–ª—è —Ä–æ–∑—Å–∏–ª–∫–∏</h3>
                
                <div class="form-group">
                    <label>üìù –¢–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</label>
                    <textarea id="broadcastText" rows="5" placeholder="–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞ —Ç—É—Ç..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>üì∑ –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)</label>
                    <div class="file-upload" id="imageDropZone">
                        <input type="file" id="broadcastImage" accept="image/*" onchange="previewImage(this)">
                        <div class="file-upload-content" id="uploadPlaceholder">
                            <span class="file-icon">üì∑</span>
                            <p>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∞–±–æ –ø–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å —Ñ–æ—Ç–æ —Å—é–¥–∏</p>
                        </div>
                        <div class="image-preview" id="imagePreview" style="display:none">
                            <img id="previewImg" src="">
                            <button class="btn btn-small btn-danger" onclick="clearImage()">‚úï –í–∏–¥–∞–ª–∏—Ç–∏</button>
                        </div>
                    </div>
                </div>
                
                <div class="broadcast-actions">
                    <button class="btn btn-primary btn-large" onclick="startBroadcast('all')">
                        üì¢ –ó–∞–≥–∞–ª—å–Ω–∞ —Ä–æ–∑—Å–∏–ª–∫–∞
                    </button>
                    <button class="btn btn-secondary btn-large" onclick="startBroadcast('support')">
                        üîß –†–æ–∑—Å–∏–ª–∫–∞ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞
                    </button>
                </div>
            </div>
            
            <!-- PROGRESS -->
            <div class="card" id="progressCard" style="display:none">
                <h3 id="progressTitle">üöÄ –†–æ–∑—Å–∏–ª–∫–∞ –π–¥–µ...</h3>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar" style="width:0%"></div>
                </div>
                <div class="progress-stats">
                    <span id="progressCount">0 / 0</span>
                    <span id="progressPercent">0%</span>
                </div>
                <div class="progress-details">
                    <span class="stat-success">‚úÖ –£—Å–ø—ñ—à–Ω–æ: <b id="successCount">0</b></span>
                    <span class="stat-error">‚ùå –ü–æ–º–∏–ª–æ–∫: <b id="errorCount">0</b></span>
                </div>
            </div>
        </div>
        
        <!-- TAB: DATABASE -->
        <div id="tab-database" class="tab-content">
            <div class="card">
                <h3>üì¶ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –±–∞–∑—É –º–∞–≥–∞–∑–∏–Ω—ñ–≤ (stores.xlsx)</h3>
                <p class="hint">Excel —Ñ–∞–π–ª –∑ –∫–æ–ª–æ–Ω–∫–∞–º–∏: <b>–ù–∞–∑–≤–∞</b> —ñ <b>–¢–æ–∫–µ–Ω</b> (API –∫–ª—é—á –∫–æ–∂–Ω–æ–≥–æ –∫–∞–Ω–∞–ª—É)</p>
                <div class="file-upload">
                    <input type="file" id="storesFile" accept=".xlsx,.xls" onchange="uploadExcel('stores')">
                    <div class="file-upload-content">
                        <span class="file-icon">üìä</span>
                        <p>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∞–±–æ –ø–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å stores.xlsx</p>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3>üîß –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å–ø–∏—Å–æ–∫ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ (support.xlsx)</h3>
                <p class="hint">–û–∫—Ä–µ–º–∏–π Excel —Ñ–∞–π–ª –∑ –º–∞–≥–∞–∑–∏–Ω–∞–º–∏, —è–∫—ñ –Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º—Ü—ñ. –§–æ—Ä–º–∞—Ç –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–∏–π.</p>
                <div class="file-upload">
                    <input type="file" id="supportFile" accept=".xlsx,.xls" onchange="uploadExcel('support')">
                    <div class="file-upload-content">
                        <span class="file-icon">üîß</span>
                        <p>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∞–±–æ –ø–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å support.xlsx</p>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<!-- CONFIRMATION MODAL -->
<div class="modal-overlay" id="confirmModal" style="display:none">
    <div class="modal-card">
        <h3>‚ö†Ô∏è –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ä–æ–∑—Å–∏–ª–∫–∏</h3>
        <p id="confirmText">–í–∏ –¥—ñ–π—Å–Ω–æ —Ö–æ—á–µ—Ç–µ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ —Ü–µ–π –ø–æ—Å—Ç —É –≤—Å—ñ –º–∞–≥–∞–∑–∏–Ω–∏?</p>
        <div class="modal-preview" id="modalPreview"></div>
        <div class="modal-actions">
            <button class="btn btn-primary" onclick="confirmBroadcast()">‚úÖ –¢–∞–∫, —Ä–æ–∑—ñ—Å–ª–∞—Ç–∏!</button>
            <button class="btn btn-outline" onclick="cancelBroadcast()">‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏</button>
        </div>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>
